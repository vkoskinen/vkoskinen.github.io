!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t){function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var i=[],n=!0,o=!1,a=void 0;try{for(var l,r=e[Symbol.iterator]();!(n=(l=r.next()).done)&&(i.push(l.value),!t||i.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(o)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}L.Control.HtmlLegend=L.Control.extend({_map:null,_activeLayers:0,_alwaysShow:!1,options:{position:"topright",legends:[],collapseSimple:!1,detectStretched:!1,collapsedOnInit:!1,updateOpacity:null,defaultOpacity:1,removeIcon:"leaflet-html-legend-icon-remove",visibleIcon:"leaflet-html-legend-icon-eye",hiddenIcon:"leaflet-html-legend-icon-eye-slash",toggleIcon:"leaflet-html-legend-icon-eye"},onAdd:function(e){return this._map=e,this._container=L.DomUtil.create("div","leaflet-control leaflet-bar leaflet-html-legend"),this._lastId=0,this._entries={},L.DomEvent.disableClickPropagation(this._container),L.DomEvent.disableScrollPropagation(this._container),this.render(),this._container},render:function(){var e=this;L.DomUtil.empty(this._container),this.options.legends.forEach((function(t){return e._renderLegend(t)}),this),this._checkVisibility()},addLegend:function(e){if(this._map)return this._renderLegend(e),this._lastId;throw Error("Legend control must be added to the map first.")},removeLegend:function(e){var t=this._entries[e];t&&(t.layer&&t.events&&(Object.entries(t.events).forEach((function(e){var n=i(e,2),o=n[0],a=n[1];return t.layer.off(o,a)})),this._map.hasLayer(t.layer)&&(this._activeLayers-=1,this._checkVisibility())),L.DomUtil.remove(this._entries[e].container),delete this._entries[e])},_renderLegend:function(e){var t=this;if(e.elements){var i=e.elements,n="legend-block";this.options.detectStretched&&3===i.length&&""!==i[0].label&&""===i[1].label&&""!==i[2].label&&(n+=" legend-stretched");var o=L.DomUtil.create("div",n,this._container),a=++this._lastId;if(this._entries[a]={container:o},e.allowRemove){var l=L.DomUtil.create("i","remove-button ".concat(this.options.removeIcon),o);L.DomEvent.on(l,"click",(function(e){t.removeLegend(a)}))}if(this.options.collapseSimple&&1===i.length&&!i[0].label)return this._addElement(i[0].html,e.name,i[0].style,o),this._connectLayer(o,e,a),o;if(e.name){var r=L.DomUtil.create("h4",null,o);L.DomUtil.create("div","legend-caret",r),L.DomUtil.create("span",null,r).innerHTML=e.name,this.options.collapsedOnInit&&L.DomUtil.addClass(r,"closed"),L.DomEvent.on(r,"click",(function(){L.DomUtil.hasClass(r,"closed")?L.DomUtil.removeClass(r,"closed"):L.DomUtil.addClass(r,"closed")}),this)}var s=L.DomUtil.create("div","legend-elements",o);return i.forEach((function(e){t._addElement(e.html,e.label,e.style,s)}),this),this._connectLayer(o,e,a),o}},_addElement:function(e,t,n,o){var a=L.DomUtil.create("div","legend-row",o),l=L.DomUtil.create("span","symbol",a);n&&Object.entries(n).forEach((function(e){var t=i(e,2),n=t[0],o=t[1];l.style[n]=o})),l.innerHTML=e||"",t&&(L.DomUtil.create("label",null,a).innerHTML=t)},_updateOpacity:function(e,t){"function"==typeof this.options.updateOpacity?this.options.updateOpacity(e,t):"function"==typeof e.setOpacity?e.setOpacity(t):"function"==typeof e.setStyle&&e.setStyle({opacity:t})},_layerAdd:function(e){this._activeLayers+=1,e.style.display="",this._checkVisibility()},_layerRemove:function(e){this._activeLayers-=1,e.style.display="none",this._checkVisibility()},_connectLayer:function(e,t,i){var n=this,o=t.layer;if(o){if(this._map.hasLayer(o)?this._activeLayers+=1:e.style.display="none",e.classList.add("layer-control"),!t.disableVisibilityControls){var a=o.opacity||this.options.defaultOpacity||1;this._updateOpacity(o,a);var l=L.DomUtil.create("i","visibility-toggle ".concat(this.options.toggleIcon),e);l.dataset.visibileOpacity=a,L.DomEvent.on(l,"click",(function(e){var t=e.target;L.DomUtil.hasClass(t,"disabled")?(L.DomUtil.removeClass(t,"disabled"),n._updateOpacity(o,t.dataset.visibileOpacity)):(L.DomUtil.addClass(t,"disabled"),n._updateOpacity(o,0))}));var r=L.DomUtil.create("span","opacity-slider",e);L.DomUtil.create("span","slider-label",r).innerHTML="Transparency:",L.DomUtil.create("i",this.options.visibleIcon,r);var s=L.DomUtil.create("input",null,r);s.type="range",s.min=0,s.max=1,s.step=.1,s.onchange=function(e){var t=1-e.target.value||0;n._updateOpacity(o,t),l.dataset.visibileOpacity=t,L.DomUtil.removeClass(l,"disabled")},s.value=1-a,L.DomUtil.create("i",this.options.hiddenIcon,r)}var c=this._layerAdd.bind(this,e),d=this._layerRemove.bind(this,e);o.on("add",c).on("remove",d),this._entries[i].layer=o,this._entries[i].events={add:c,remove:d}}else this._alwaysShow=!0},_checkVisibility:function(){this._alwaysShow||this._activeLayers?this._container.style.display="":this._container.style.display="none"}}),L.control.htmllegend=function(e){return new L.Control.HtmlLegend(e)}}]);
//# sourceMappingURL=L.Control.HtmlLegend.js.map